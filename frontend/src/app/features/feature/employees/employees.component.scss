@use '../../../styles/variables' as v;

.main{
    height: 100vh;
    width: 100vw;
    display: grid;
    grid-template-columns: 0.15fr 1fr;
    background-color: v.$background-dark-color;
    overflow: hidden;
    font-family: v.$font-family-primary ;

    .sidebar{
        width: 100%;
        height: 100%;
    }

    .employees{
        display: flex;
        flex-direction: column;
        height: 100vh;
        overflow: hidden;

       
        .employees-header {
            background: v.$background-color;
            border-bottom: 1px solid rgba(v.$primary-color, 0.1);
            padding: clamp(1.2rem, 2vw, 1.5rem) clamp(1.5rem, 3vw, 2.5rem);
            animation: slideDown 0.4s ease-out;

            .header-content {
                max-width: 100%;
                display: flex;
                flex-direction: column;
                gap: 1.2rem;

                .header-top {
                    display: flex;
                    align-items: center;
                    justify-content: flex-start;
                    
                    .header-left {
                        display: flex;
                        align-items: center;
                        gap: 0.9rem;

                        .icon-wrapper {
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            width: clamp(2.4rem, 3.5vw, 2.8rem);
                            height: clamp(2.4rem, 3.5vw, 2.8rem);
                            background: linear-gradient(135deg, rgba(v.$primary-color, 0.15) 0%, rgba(v.$secundary-color1, 0.1) 100%);
                            border-radius: 12px;
                            border: 1px solid rgba(v.$primary-color, 0.2);
                            transition: all 0.3s ease;

                            &:hover {
                                transform: scale(1.05);
                                background: linear-gradient(135deg, rgba(v.$primary-color, 0.2) 0%, rgba(v.$secundary-color1, 0.15) 100%);
                            }

                            .header-icon {
                                width: clamp(1.2rem, 2vw, 1.5rem);
                                height: clamp(1.2rem, 2vw, 1.5rem);
                                filter: brightness(0) invert(1);
                            }
                        }

                        .title-group {
                            h1 {
                                font-family: v.$font-family-primary;
                                font-size: clamp(1.2rem, 2.2vw, 1.6rem);
                                font-weight: 700;
                                color: v.$text-color;
                                margin: 0 0 0.2rem 0;
                                text-transform: uppercase;
                                letter-spacing: 0.05em;
                                background: linear-gradient(135deg, v.$text-color 0%, v.$primery-light-color 100%);
                                -webkit-background-clip: text;
                                -webkit-text-fill-color: transparent;
                                background-clip: text;
                            }

                            .subtitle {
                                font-family: v.$font-family-primary;
                                font-size: clamp(0.75rem, 1.1vw, 0.9rem);
                                color: v.$text-light-color;
                                margin: 0;
                                font-weight: 400;
                            }
                        }
                    }
                }

                .stats-cards {
                    display: grid;
                    grid-template-columns: 0.5fr 0.5fr 0.5fr 1fr;
                    gap: 0.9rem;
                    align-items: center;
                    
                    .stat-card {
                        @include v.bg-default;
                        display: flex;
                        align-items: center;
                        gap: 0.9rem;
                        padding: 0.9rem 1rem;
                        border: 1px solid rgba(v.$primary-color, 0.1);
                        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                        cursor: pointer;
                        position: relative;
                        overflow: hidden;

                        &::before {
                            content: '';
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 3px;
                            height: 100%;
                            background: linear-gradient(180deg, transparent 0%, v.$primary-color 50%, transparent 100%);
                            opacity: 0;
                            transition: opacity 0.3s ease;
                        }

                        &:hover {
                            transform: translateY(-2px);
                            border-color: rgba(v.$primary-color, 0.3);
                            
                            &::before {
                                opacity: 1;
                            }
                        }

                        .stat-icon-wrapper {
                            width: 42px;
                            height: 42px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            border-radius: 10px;
                            flex-shrink: 0;
                            transition: transform 0.3s ease;

                            &.primary {
                                background: linear-gradient(135deg, rgba(v.$primary-color, 0.15) 0%, rgba(v.$primery-light-color, 0.1) 100%);
                                border: 1px solid rgba(v.$primary-color, 0.2);
                            }

                            &.secondary1 {
                                background: linear-gradient(135deg, rgba(v.$secundary-color1, 0.15) 0%, rgba(v.$primary-color, 0.1) 100%);
                                border: 1px solid rgba(v.$secundary-color1, 0.2);
                            }

                            &.secondary2 {
                                background: linear-gradient(135deg, rgba(v.$secundary-color3, 0.15) 0%, rgba(v.$primary-color, 0.1) 100%);
                                border: 1px solid rgba(v.$secundary-color3, 0.2);
                            }

                            .stat-icon {
                                width: 20px;
                                height: 20px;
                                filter: brightness(0) invert(1);
                            }
                        }

                        &:hover .stat-icon-wrapper {
                            transform: scale(1.1) rotate(5deg);
                        }

                        .stat-info {
                            display: flex;
                            flex-direction: column;
                            gap: 0.15rem;
                            flex: 1;

                            .stat-value {
                                font-size: clamp(1.2rem, 1.8vw, 1.5rem);
                                font-weight: 700;
                                color: v.$text-color;
                                line-height: 1.2;
                            }

                            .stat-label {
                                font-size: 0.75rem;
                                color: v.$text-light-color;
                                font-weight: 500;
                                text-transform: uppercase;
                                letter-spacing: 0.05em;
                            }
                        }

                    }
                    
                        .search-wrapper {
                            flex: 1;
                            width: 100%;
                            min-width: 100%;
                        }
                }
            }
        }

        
        
        
        .cards-conteiner{
            flex: 1;
            padding: clamp(1rem, 2vw, 2rem) clamp(1.5rem, 3vw, 2.5rem);
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(min(100%, 480px), 1fr));
            grid-auto-rows: max-content;
            gap: clamp(1.5rem, 2.2vw, 2.2rem);
            overflow-y: auto;
            animation: fadeIn 0.7s ease-out 0.3s both;
            align-items: start;

            &::-webkit-scrollbar {
                width: 8px;
            }

            &::-webkit-scrollbar-track {
                background: rgba(v.$primary-color, 0.05);
                border-radius: 10px;
            }

            &::-webkit-scrollbar-thumb {
                background: linear-gradient(180deg, v.$primary-color, v.$primery-light-color);
                border-radius: 10px;
            }

            
            
        }

        .empty-state {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            padding: 3rem;

            .empty-icon {
                width: clamp(80px, 12vw, 120px);
                height: clamp(80px, 12vw, 120px);
                opacity: 0.3;
                filter: brightness(0) invert(1);
            }

            h3 {
                font-size: clamp(1.2rem, 2vw, 1.5rem);
                color: v.$text-color;
                margin: 0;
            }

            p {
                font-size: clamp(0.9rem, 1.2vw, 1rem);
                color: v.$text-light-color;
                margin: 0;
            }
        }
    }
}

@keyframes slideDown {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes cardAppear {
    from { opacity: 0; transform: translateY(20px) scale(0.95); }
    to { opacity: 1; transform: translateY(0) scale(1); }
}

@keyframes pulse {
    0%, 100% { box-shadow: 0 4px 15px rgba(v.$primary-color, 0.4); }
    50% { box-shadow: 0 4px 25px rgba(v.$primary-color, 0.6); }
}

// Responsividade
@media (max-width: 1600px) {
    .main .employees .cards-conteiner {
        grid-template-columns: repeat(auto-fill, minmax(min(100%, 450px), 1fr));
    }
}

@media (max-width: 1200px) {
    .main .employees .cards-conteiner {
        grid-template-columns: repeat(auto-fill, minmax(min(100%, 420px), 1fr));
        gap: clamp(1rem, 1.5vw, 1.5rem);
    }
}

@media (max-width: 1024px) {
    .main {
        grid-template-columns: 0.2fr 1fr;
        
        .employees {
            .controls-section {
                flex-direction: column;
                align-items: stretch;
                
                .search-wrapper { max-width: none; }
                .filter-wrapper { 
                    justify-content: space-between;
                    .filter-select { flex: 1; }
                }
            }

            .cards-conteiner {
                grid-template-columns: repeat(auto-fill, minmax(min(100%, 400px), 1fr));
            }
        }
    }
}

@media (max-width: 768px) {
    .main {
        grid-template-columns: 1fr;
        
        app-sidebar { display: none; }

        .employees {
            .employees-header {
                padding: 1rem;
                
                .header-content {
                    gap: 1rem;
                    
                    .header-top .header-left {
                        gap: 0.7rem;
                        
                        .icon-wrapper {
                            width: 2.5rem;
                            height: 2.5rem;
                        }
                    }
                    
                    .stats-cards {
                        grid-template-columns: 1fr;
                        gap: 0.8rem;
                        
                        .stat-card {
                            padding: 0.9rem 1rem;
                        }
                    }
                }
            }
            
            .controls-section {
                padding: 1rem;
            }
            
            .cards-conteiner {
                padding: 1rem;
                grid-template-columns: 1fr;
                gap: 1rem;
            }
        }
    }
}